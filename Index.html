<!DOCTYPE html>
<html>
<head>
<title>Coding Club AI</title>

<!-- ================= DATABASE SCHEMA =================
USERS(roll_no, name, password, points)
QUIZ(qid, question, options, answer)
CODING(pid, language, level, problem)
LEADERBOARD(roll_no, points)
===================================================== -->

<style>
body {
  font-family: Arial;
  background: #eef2ff;
  text-align: center;
}
.container {
  background: white;
  width: 350px;
  margin: 30px auto;
  padding: 20px;
  border-radius: 10px;
}
input, button {
  width: 90%;
  padding: 10px;
  margin: 5px;
}
button {
  background: #4f46e5;
  color: white;
  border: none;
  cursor: pointer;
}
.hidden {
  display: none;
}
h2 {
  color: #4f46e5;
}
</style>
</head>

<body>

<!-- ================= LOGIN ================= -->
<div class="container" id="login">
  <h2>Login</h2>
  <input id="lroll" placeholder="Roll Number">
  <input id="lpass" type="password" placeholder="Password">
  <button onclick="login()">Login</button>
  <p onclick="showRegister()">New User? Register</p>
</div>

<!-- ================= REGISTER ================= -->
<div class="container hidden" id="register">
  <h2>Register</h2>
  <input id="rroll" placeholder="Roll Number">
  <input id="rname" placeholder="Name">
  <input id="rpass" type="password" placeholder="Password">
  <button onclick="register()">Register</button>
  <p onclick="showLogin()">Back to Login</p>
</div>

<!-- ================= HOME ================= -->
<div class="container hidden" id="home">
  <h2>Welcome <span id="uname"></span></h2>
  <button onclick="showCoding()">ğŸ’» Coding</button>
  <button onclick="showQuiz()">ğŸ§  Quiz</button>
  <button onclick="showAI()">ğŸ¤– AI Learning</button>
  <button onclick="showLeaderboard()">ğŸ† Leaderboard</button>
  <button onclick="logout()">ğŸšª Logout</button>
</div>

<!-- ================= CODING ================= -->
<div class="container hidden" id="coding">
  <h2>ğŸ’» Coding</h2>
  <p>Problem: Print Hello World</p>
  <textarea rows="4" cols="30">// write code</textarea>
  <button onclick="addPoints()">Submit</button>
  <button onclick="backHome()">Back</button>
</div>

<!-- ================= QUIZ ================= -->
<div class="container hidden" id="quiz">
  <h2>ğŸ§  Quiz</h2>
  <p>What does AI stand for?</p>
  <button onclick="correct()">Artificial Intelligence</button>
  <button>Automatic Input</button>
  <button>Advanced Internet</button>
  <button onclick="backHome()">Back</button>
</div>

<!-- ================= AI ================= -->
<div class="container hidden" id="ai">
  <h2>ğŸ¤– AI Learning</h2>
  <p>AI enables machines to think like humans.</p>
  <button onclick="backHome()">Back</button>
</div>

<!-- ================= LEADERBOARD ================= -->
<div class="container hidden" id="leaderboard">
  <h2>ğŸ† Leaderboard</h2>
  <div id="board"></div>
  <button onclick="backHome()">Back</button>
</div>

<script>
let currentUser = "";

function showRegister() {
  login.classList.add("hidden");
  register.classList.remove("hidden");
}

function showLogin() {
  register.classList.add("hidden");
  login.classList.remove("hidden");
}

function register() {
  let user = {
    roll: rroll.value,
    name: rname.value,
    pass: rpass.value,
    points: 0
  };
  localStorage.setItem(user.roll, JSON.stringify(user));
  alert("Registered Successfully");
  showLogin();
}

function login() {
  let u = JSON.parse(localStorage.getItem(lroll.value));
  if (u && u.pass === lpass.value) {
    currentUser = u.roll;
    uname.innerText = u.name;
    login.classList.add("hidden");
    home.classList.remove("hidden");
  } else {
    alert("Invalid Login");
  }
}

function logout() {
  home.classList.add("hidden");
  login.classList.remove("hidden");
}

function showCoding() {
  home.classList.add("hidden");
  coding.classList.remove("hidden");
}

function showQuiz() {
  home.classList.add("hidden");
  quiz.classList.remove("hidden");
}

function showAI() {
  home.classList.add("hidden");
  ai.classList.remove("hidden");
}

function showLeaderboard() {
  home.classList.add("hidden");
  leaderboard.classList.remove("hidden");
  loadBoard();
}

function backHome() {
  document.querySelectorAll(".container").forEach(c => c.classList.add("hidden"));
  home.classList.remove("hidden");
}

function addPoints() {
  let u = JSON.parse(localStorage.getItem(currentUser));
  u.points += 10;
  localStorage.setItem(currentUser, JSON.stringify(u));
  alert("+10 Points");
}

function correct() {
  addPoints();
  alert("Correct Answer!");
}

function loadBoard() {
  board.innerHTML = "";
  for (let i = 0; i < localStorage.length; i++) {
    let u = JSON.parse(localStorage.getItem(localStorage.key(i)));
    if (u && u.roll) {
      board.innerHTML += `<p>${u.roll} : ${u.points}</p>`;
    }
  }
}
</script>

</body>
</html>
